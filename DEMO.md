# ЁЯЪА Demo: Real-time Chat with WebSockets

## р╕зр╕┤р╕Шр╕╡р╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ъ WebSocket Real-time Features

### ЁЯУ▒ р╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ър╣Бр╕Ър╕Ър╕Зр╣Ир╕▓р╕в

1. **р╣Ар╕Ыр╕┤р╕Фр╣Бр╕нр╕Ыр╕Юр╕ер╕┤р╣Ар╕Др╕Кр╕▒р╕Щ:**
   ```bash
   npm run dev
   ```
   р╣Ар╕Ыр╕┤р╕Ф http://localhost:3000

2. **р╕кр╕гр╣Йр╕▓р╕З User р╣Бр╕гр╕Б:**
   - р╣Гр╕кр╣Ир╕Кр╕╖р╣Ир╕н: "Alice"
   - р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╣Бр╕Кр╕Ч

3. **р╣Ар╕Ыр╕┤р╕Фр╣Бр╕Чр╣Зр╕Ър╣Гр╕лр╕бр╣И (р╕лр╕гр╕╖р╕нр╕лр╕Щр╣Йр╕▓р╕Хр╣Ир╕▓р╕Зр╣Гр╕лр╕бр╣И):**
   - р╣Др╕Ыр╕Чр╕╡р╣И http://localhost:3000 р╕нр╕╡р╕Бр╕Др╕гр╕▒р╣Йр╕З
   - р╣Гр╕кр╣Ир╕Кр╕╖р╣Ир╕н: "Bob"
   - р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╣Бр╕Кр╕Ч

4. **р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б:**
   - Alice р╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б: "р╕кр╕зр╕▒р╕кр╕Фр╕╡ Bob!"
   - р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕Ир╕░р╕Ыр╕гр╕▓р╕Бр╕Пр╕Чр╕╡р╣Ир╣Бр╕Кр╕Чр╕Вр╕нр╕З Bob р╕Чр╕▒р╕Щр╕Чр╕╡
   - Bob р╕Хр╕нр╕Ър╕Бр╕ер╕▒р╕Ъ: "р╕кр╕зр╕▒р╕кр╕Фр╕╡ Alice!"
   - р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕Ир╕░р╕Ыр╕гр╕▓р╕Бр╕Пр╕Чр╕╡р╣Ир╣Бр╕Кр╕Чр╕Вр╕нр╕З Alice р╕Чр╕▒р╕Щр╕Чр╕╡

### ЁЯзк р╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ър╕Вр╕▒р╣Йр╕Щр╕кр╕╣р╕З

#### р╕Чр╕Фр╕кр╕нр╕Ъ Multiple Users
1. р╣Ар╕Ыр╕┤р╕Ф 3-4 р╣Бр╕Чр╣Зр╕Ъ р╣Ар╕Ыр╣Зр╕Щр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Хр╣Ир╕▓р╕Зр╣Ж
2. р╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕Ир╕▓р╕Бр╣Бр╕Хр╣Ир╕ер╕░р╣Бр╕Чр╣Зр╕Ъ
3. р╕кр╕▒р╕Зр╣Ар╕Бр╕Хр╕зр╣Ир╕▓р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕Ыр╕гр╕▓р╕Бр╕Пр╣Гр╕Щр╕Чр╕╕р╕Бр╣Бр╕Чр╣Зр╕Ър╣Бр╕Ър╕Ъ real-time

#### р╕Чр╕Фр╕кр╕нр╕Ъ Connection Status
1. р╕Фр╕╣р╕кр╕Цр╕▓р╕Щр╕░р╕Бр╕▓р╕гр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕н (р╕Ир╕╕р╕Фр╕кр╕╡р╣Ар╕Вр╕╡р╕вр╕з/р╣Бр╕Фр╕З) р╕Чр╕╡р╣Ир╕бр╕╕р╕бр╕Вр╕зр╕▓р╕Ър╕Щ
2. р╕Ыр╕┤р╕Фр╕нр╕┤р╕Щр╣Ар╕Чр╕нр╕гр╣Мр╣Ар╕Щр╣Зр╕Хр╕Кр╕▒р╣Ир╕зр╕Др╕гр╕▓р╕з
3. р╕кр╕▒р╕Зр╣Ар╕Бр╕Хр╕кр╕Цр╕▓р╕Щр╕░р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Ар╕Ыр╣Зр╕Щр╕кр╕╡р╣Бр╕Фр╕З
4. р╣Ар╕Ыр╕┤р╕Фр╕нр╕┤р╕Щр╣Ар╕Чр╕нр╕гр╣Мр╣Ар╕Щр╣Зр╕Хр╕Бр╕ер╕▒р╕Ър╕бр╕▓ р╕кр╕Цр╕▓р╕Щр╕░р╕Ир╕░р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Ар╕Ыр╣Зр╕Щр╕кр╕╡р╣Ар╕Вр╕╡р╕вр╕з

#### р╕Чр╕Фр╕кр╕нр╕Ъ Message Persistence
1. р╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕лр╕ер╕▓р╕вр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б
2. р╕гр╕╡р╣Ар╕Яр╕гр╕Кр╕лр╕Щр╣Йр╕▓р╣Ар╕зр╣Зр╕Ъ
3. р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Ар╕Бр╣Ир╕▓р╕Др╕зр╕гр╕вр╕▒р╕Зр╕Др╕Зр╕нр╕вр╕╣р╣И (р╣Вр╕лр╕ер╕Фр╕Ир╕▓р╕Б MongoDB)

### ЁЯФН р╕кр╕┤р╣Ир╕Зр╕Чр╕╡р╣Ир╕Ир╕░р╣Ар╕лр╣Зр╕Щр╣Гр╕Щ Browser Developer Tools

#### Network Tab:
```
WebSocket connection: ws://localhost:3000/socket.io/?EIO=4&transport=websocket
Status: 101 Switching Protocols
```

#### Console Messages:
```
Connected to server
User1 joined the chat
Message sent: {username: "Alice", message: "р╕кр╕зр╕▒р╕кр╕Фр╕╡!", timestamp: "2024-..."}
```

### ЁЯУК р╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щр╕Вр╕нр╕З WebSocket р╣Гр╕Щр╣Бр╕нр╕Ыр╕Щр╕╡р╣Й

#### 1. р╕Бр╕▓р╕гр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕н (Connection)
```javascript
// Client р╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╕Бр╕▒р╕Ъ Server
const socket = io({ path: '/api/socketio' });

// Server р╕гр╕▒р╕Ър╕Бр╕▓р╕гр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕н
io.on('connection', (socket) => {
  console.log('User connected:', socket.id);
});
```

#### 2. р╕Бр╕▓р╕гр╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б (Send Message)
```javascript
// Client р╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б
socket.emit('send-message', {
  username: 'Alice',
  message: 'р╕кр╕зр╕▒р╕кр╕Фр╕╡!'
});

// Server р╕гр╕▒р╕Ър╣Бр╕ер╕░ broadcast р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б
socket.on('send-message', async (data) => {
  // р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕ер╕З database
  await newMessage.save();
  
  // р╕кр╣Ир╕Зр╣Др╕Ыр╕вр╕▒р╕З client р╕Чр╕╕р╕Бр╕Др╕Щ
  io.emit('receive-message', messageData);
});
```

#### 3. р╕Бр╕▓р╕гр╕гр╕▒р╕Ър╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б (Receive Message)
```javascript
// Client р╕гр╕▒р╕Ър╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Гр╕лр╕бр╣И
socket.on('receive-message', (message) => {
  setMessages(prev => [...prev, message]);
});
```

### ЁЯОп р╕Чр╕Фр╕кр╕нр╕Ъ Edge Cases

#### 1. Network Interruption
- р╕Цр╕нр╕Фр╕кр╕▓р╕в internet р╕Кр╕▒р╣Ир╕зр╕Др╕гр╕▓р╕з
- р╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕Вр╕Ур╕░р╕нр╕нр╕Яр╣Др╕ер╕Щр╣М
- р╣Ар╕кр╕╡р╕вр╕Ър╕кр╕▓р╕вр╕Бр╕ер╕▒р╕Ър╕бр╕▓ р╕Фр╕╣р╕зр╣Ир╕▓ reconnect р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤р╣Др╕лр╕б

#### 2. Server Restart
- р╕лр╕вр╕╕р╕Ф server (`Ctrl+C`)
- р╣Ар╕гр╕┤р╣Ир╕б server р╣Гр╕лр╕бр╣И (`npm run dev`)
- р╕Фр╕╣ client reconnect р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤р╣Др╕лр╕б

#### 3. Long Messages
- р╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕вр╕▓р╕зр╣Ж (р╕лр╕ер╕▓р╕вр╕Ър╕гр╕гр╕Чр╕▒р╕Ф)
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Бр╕▓р╕гр╣Бр╕кр╕Фр╕Зр╕Ьр╕е

#### 4. Special Characters
- р╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕Чр╕╡р╣Ир╕бр╕╡ emoji: ЁЯЪАЁЯТмтЭдя╕П
- р╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕ар╕▓р╕йр╕▓р╣Др╕Чр╕в: "р╕кр╕зр╕▒р╕кр╕Фр╕╡р╕Др╕гр╕▒р╕Ъ"
- р╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕нр╕▒р╕Зр╕Бр╕др╕й: "Hello World"

### ЁЯУИ Performance Testing

#### р╕Чр╕Фр╕кр╕нр╕Ъ Load:
1. р╣Ар╕Ыр╕┤р╕Ф 10+ р╣Бр╕Чр╣Зр╕Ър╕Юр╕гр╣Йр╕нр╕бр╕Бр╕▒р╕Щ
2. р╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕Ир╕▓р╕Бр╕лр╕ер╕▓р╕вр╣Бр╕Чр╣Зр╕Ър╕Юр╕гр╣Йр╕нр╕бр╕Бр╕▒р╕Щ
3. р╕кр╕▒р╕Зр╣Ар╕Бр╕Х performance р╣Бр╕ер╕░ response time

#### Memory Usage:
- р╣Ар╕Ыр╕┤р╕Ф Task Manager/Activity Monitor
- р╕Фр╕╣ memory usage р╕Вр╕нр╕З browser tabs
- р╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕Хр╣Ир╕нр╣Ар╕Щр╕╖р╣Ир╕нр╕З р╕кр╕▒р╕Зр╣Ар╕Бр╕Х memory leak

### ЁЯЫая╕П Debug Mode

р╣Ар╕Ыр╕┤р╕Ф browser console р╣Бр╕ер╕░р╕Юр╕┤р╕бр╕Юр╣М:
```javascript
// р╕Фр╕╣ socket connection info
socket.id
socket.connected

// р╕Фр╕╣ message history
console.log(messages)

// Test manual emit
socket.emit('send-message', {
  username: 'Debug',
  message: 'Test from console'
});
```

### ЁЯОЙ Expected Results

тЬЕ **р╕кр╕┤р╣Ир╕Зр╕Чр╕╡р╣Ир╕Др╕зр╕гр╣Ар╕лр╣Зр╕Щ:**
- р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕Ыр╕гр╕▓р╕Бр╕Пр╣Бр╕Ър╕Ъ real-time р╕Чр╕╕р╕Бр╣Бр╕Чр╣Зр╕Ъ
- р╕кр╕Цр╕▓р╕Щр╕░ online/offline р╣Бр╕бр╣Ир╕Щр╕вр╕│
- р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Ар╕Бр╣Ир╕▓р╣Вр╕лр╕ер╕Фр╣Ар╕бр╕╖р╣Ир╕нр╕гр╕╡р╣Ар╕Яр╕гр╕К
- UI responsive р╣Бр╕ер╕░ smooth

тЭМ **р╕кр╕┤р╣Ир╕Зр╕Чр╕╡р╣Ир╣Др╕бр╣Ир╕Др╕зр╕гр╣Ар╕Бр╕┤р╕Ф:**
- р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕лр╕▓р╕в
- р╕ер╣Ир╕▓р╕Кр╣Йр╕▓р╣Гр╕Щр╕Бр╕▓р╕гр╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б
- Error р╣Гр╕Щ console
- Memory leak

---

ЁЯПЖ **р╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ър╕кр╕│р╣Ар╕гр╣Зр╕И** р╣Бр╕кр╕Фр╕Зр╕зр╣Ир╕▓ WebSocket implementation р╕Чр╕│р╕Зр╕▓р╕Щр╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З! 